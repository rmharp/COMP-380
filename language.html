<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Language | Perspectives on AI</title>
    <!--
      - favicon
    -->
    <link
      rel="shortcut icon"
      href="./assets/images/blacklogo.png"
      type="image/png"
    />

    <!--
      - custom css link
    -->
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/language.css" />
    <!--
      - google font link
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LXQLH66J4S"
    ></script>

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-LXQLH66J4S");
    </script>
  </head>

  <body>
    <!--
      - #MAIN
    -->

    <main>
      <!--
          - #SIDEBAR
        -->

      <!--
          - #main-content
        -->

      <div class="main-content">
        <!--
              - #NAVBAR
            -->

        <nav class="navbar">
          <ul class="navbar-list">
            <li class="navbar-item">
              <a href="index.html" class="navbar-link">Home</a>
            </li>

            <li class="navbar-item">
              <a href="history.html" class="navbar-link">History</a>
            </li>

            <li class="navbar-item">
              <a href="policy.html" class="navbar-link">Policy</a>
            </li>

            <li class="navbar-item dropdown">
              <a href="ethics.html" class="navbar-link"
                >Ethics<span class="caret"></span
              ></a>
              <ul class="dropdown-menu">
                <li class="navbar-item">
                  <a
                    href="decision_making.html"
                    class="navbar-link dropdown-link"
                    >Decisions</a
                  >
                </li>
                <li class="navbar-item">
                  <a href="alignment.html" class="navbar-link dropdown-link"
                    >Alignment</a
                  >
                </li>
              </ul>
            </li>

            <li class="navbar-item dropdown">
              <a href="generative.html" class="navbar-link"
                >Generative AI<span class="caret"></span
              ></a>
              <ul class="dropdown-menu">
                <li class="navbar-item">
                  <a href="#" class="navbar-link dropdown-link active"
                    >Language</a
                  >
                </li>
                <li class="navbar-item">
                  <a href="vision.html" class="navbar-link dropdown-link"
                    >Vision</a
                  >
                </li>
              </ul>
            </li>

            <li class="navbar-item">
              <a href="contact.html" class="navbar-link">Contact</a>
            </li>
          </ul>
        </nav>

        <!--
              - #ABOUT
            -->

        <header>
          <h2 class="h2 article-title">Language</h2>
        </header>

        <section class="about-text">
          <div id="hallucination-module">
            <div class="container">
              <div class="slide-title">Fact or Fiction?</div>
              <p>
                See how susceptible you are for falling for AI hallucinations.
                Click each fact in the generated passage and mark whether you
                think it is "Fact" or "Hallucination."
              </p>
              <hr />
              <br />

              <div class="slide active" data-slide="1">
                <div class="prompt">Is 13,217 a prime number?</div>
                <div class="response">
                  <p>
                    To determine whether 13,217 is a prime number,
                    <span class="clickable" data-correct="factual"
                      ><span class="clickable-text"
                        >we need to check if it has any divisors other than 1
                        and itself</span
                      ><span class="result-icon">✓</span></span
                    >.
                  </p>

                  <h4>Step 1: Check divisibility by 2</h4>
                  <p>Since 13,217 is odd, it is not divisible by 2.</p>

                  <h4>Step 2: Check divisibility by 3</h4>
                  <p>
                    To check divisibility by 3, add the digits of 13,217:
                    <code>1 + 3 + 2 + 1 + 7 = 14</code>. Since 14 is not
                    divisible by 3, 13,217 is not divisible by 3.
                  </p>

                  <h4>Step 3: Check divisibility by 5</h4>
                  <p>
                    Since 13,217 does not end in 0 or 5, it is not divisible by
                    5.
                  </p>

                  <h4>Step 4: Check divisibility by other small primes</h4>
                  <p>
                    We now check divisibility by other primes such as 7, 11, 13,
                    and so on. Rather than manually checking each one, we can
                    <span class="clickable" data-correct="factual"
                      ><span class="clickable-text">
                        use a primality test or a calculator to efficiently
                        check this number</span
                      ><span class="result-icon">✓</span></span
                    >.
                  </p>

                  <p>
                    Upon performing the divisibility test,
                    <span class="clickable" data-correct="hallucination"
                      ><span class="clickable-text"
                        >we find that 13,217 is divisible by 17:
                        <code>13,217 ÷ 17 = 776</code></span
                      ><span class="result-icon">✓</span></span
                    >.
                  </p>

                  <p>
                    Since 13,217 is divisible by 17, it is
                    <strong>not a prime number</strong>.
                  </p>

                  <h4>Conclusion:</h4>
                  <p>
                    <span class="clickable" data-correct="hallucination"
                      ><span class="clickable-text"
                        >13,217 is <strong>not a prime number</strong>. It is
                        divisible by 17</span
                      ><span class="result-icon">✓</span></span
                    >.
                  </p>
                </div>
              </div>

              <div class="slide" data-slide="2">
                <div class="prompt">
                  Tell me about Eugene McCarthy's education.
                </div>
                <div class="response">
                  <p>
                    Eugene McCarthy, a U.S.
                    <span class="clickable" data-correct="hallucination"
                      ><span class="clickable-text">Senator from Minnesota</span
                      ><span class="result-icon">✓</span></span
                    >, attended Princeton University as a graduate student. He
                    represented Minnesota in the Senate
                    <span class="clickable" data-correct="fact"
                      ><span class="clickable-text">from 1959 to 1971</span
                      ><span class="result-icon">✓</span></span
                    >
                    and was known for his opposition to the Vietnam War.
                    McCarthy earned his undergraduate degree at Saint John's
                    University in Minnesota and
                    <span class="clickable" data-correct="hallucination"
                      ><span class="clickable-text"
                        >pursued graduate studies in sociology at the University
                        of Minnesota and later at Princeton University</span
                      ><span class="result-icon">✓</span></span
                    >.
                  </p>
                </div>
              </div>

              <div class="slide" data-slide="3">
                <div class="prompt">Who kills Jahns in the Wool Omnibus?</div>
                <div class="response">
                  <p>
                    In The Wool Omnibus,
                    <span class="clickable" data-correct="hallucination"
                      ><span class="clickable-text"
                        >the character Jahns is poisoned by a character named
                        Marnes</span
                      ><span class="result-icon">✓</span></span
                    >. Marnes is a member of the leadership in the silo, and his
                    actions are driven by a series of political maneuvers within
                    the community. He poisons Jahns as part of a
                    <span class="clickable" data-correct="hallucination">
                      <span class="clickable-text"
                        >larger plan to gain power and control over the silo's
                        operations </span
                      ><span class="result-icon">✓</span></span
                    >. The poisoning is a significant event in the story and is
                    part of the broader tensions and betrayals that unfold
                    throughout the series.
                  </p>
                </div>
              </div>

              <div class="progress">Passage 1 of 3</div>

              <div class="button-container">
                <button class="nav-btn prev-btn">Previous</button>
                <button class="submit-btn">Submit Answers</button>
                <button class="nav-btn next-btn">Next</button>
              </div>
            </div>

            <script>
              document.addEventListener("DOMContentLoaded", () => {
                const container = document.querySelector(".container");
                const slides = document.querySelectorAll(".slide");
                const submitButton = document.querySelector(".submit-btn");
                const prevButton = document.querySelector(".prev-btn");
                const nextButton = document.querySelector(".next-btn");
                const progressText = document.querySelector(".progress");
                let activePopup = null;
                let userAnswers = new Map();
                let submittedSlides = new Set();
                let currentSlide = 1;

                function updateNavButtons() {
                  prevButton.disabled = currentSlide === 1;
                  nextButton.disabled = currentSlide === slides.length;
                  progressText.textContent = `Passage ${currentSlide} of ${slides.length}`;
                  submitButton.disabled = submittedSlides.has(currentSlide);
                }

                function showSlide(slideNumber) {
                  slides.forEach((slide) => slide.classList.remove("active"));
                  const newSlide = document.querySelector(
                    `[data-slide="${slideNumber}"]`
                  );
                  newSlide.classList.add("active");
                  currentSlide = slideNumber;
                  updateNavButtons();

                  // Reset clickable elements without removing popups
                  newSlide.querySelectorAll(".clickable").forEach((element) => {
                    const resultIcon = element.querySelector(".result-icon");
                    element.style.marginRight = "0";
                    resultIcon.style.display = "none";
                    element.classList.remove("correct", "incorrect");

                    // Only reset cursor and enable clicks if slide hasn't been submitted
                    if (!submittedSlides.has(currentSlide)) {
                      element.style.cursor = "pointer";
                      // Make sure popup exists
                      if (!element.querySelector(".popup")) {
                        const popup = createPopup(element);
                        element.appendChild(popup);
                      }
                    }
                  });

                  if (submittedSlides.has(currentSlide)) {
                    showAnswers();
                  }
                }

                function createPopup(element) {
                  const popup = document.createElement("div");
                  popup.className = "popup";

                  const factualBtn = document.createElement("button");
                  factualBtn.className = "factual-btn";
                  factualBtn.textContent = "Fact";

                  const hallucinationBtn = document.createElement("button");
                  hallucinationBtn.className = "hallucination-btn";
                  hallucinationBtn.textContent = "Hallucination";

                  popup.appendChild(factualBtn);
                  popup.appendChild(hallucinationBtn);

                  factualBtn.addEventListener("click", () => {
                    clickableText = element.querySelector(".clickable-text");
                    clickableText.classList.remove("hallucination");
                    clickableText.classList.add("factual");
                    userAnswers.set(element, "factual");
                    hidePopup(popup);
                  });

                  hallucinationBtn.addEventListener("click", () => {
                    clickableText = element.querySelector(".clickable-text");
                    clickableText.classList.remove("factual");
                    clickableText.classList.add("hallucination");
                    userAnswers.set(element, "hallucination");
                    hidePopup(popup);
                  });

                  return popup;
                }

                function hidePopup(popup) {
                  if (popup) {
                    popup.style.display = "none";
                    activePopup = null;
                  }
                }

                function checkAnswers() {
                  submittedSlides.add(currentSlide);
                  container.classList.add("submitted");
                  let correct = 0;
                  let total = document.querySelectorAll(".clickable").length;

                  document.querySelectorAll(".clickable").forEach((element) => {
                    const resultIcon = element.querySelector(".result-icon");
                    const userAnswer = userAnswers.get(element);
                    const correctAnswer = element.dataset.correct;

                    if (!userAnswer) {
                      resultIcon.textContent = "?";
                      resultIcon.className = "result-icon incorrect";
                      resultIcon.style.color = "rgb(255, 218, 15)";
                    } else if (userAnswer === correctAnswer) {
                      resultIcon.textContent = "✓";
                      resultIcon.className = "result-icon correct";
                      resultIcon.style.color = "";
                      resultIcon.style.background = "none";
                      correct++;
                    } else {
                      resultIcon.textContent = "✗";
                      resultIcon.className = "result-icon incorrect";
                      resultIcon.style.color = "";
                      resultIcon.style.background = "none";
                    }
                    resultIcon.style.display = "inline";
                  });

                  submitButton.disabled = true;

                  // Only remove popups for the current slide
                  const currentSlideElement = document.querySelector(
                    `[data-slide="${currentSlide}"]`
                  );
                  currentSlideElement
                    .querySelectorAll(".clickable")
                    .forEach((element) => {
                      element.style.cursor = "default";
                      const popup = element.querySelector(".popup");
                      if (popup) {
                        popup.remove();
                      }
                    });
                }

                function showAnswers() {
                  const currentSlideElement = document.querySelector(
                    `[data-slide="${currentSlide}"]`
                  );
                  currentSlideElement
                    .querySelectorAll(".clickable")
                    .forEach((element) => {
                      const resultIcon = element.querySelector(".result-icon");
                      resultIcon.style.display = "inline";
                      resultIcon.style.textDecoration = "none";
                      element.style.cursor = "default";
                    });
                  submitButton.disabled = true;
                }

                // Initial setup of clickable elements
                document.querySelectorAll(".clickable").forEach((element) => {
                  const popup = createPopup(element);
                  element.appendChild(popup);

                  element.addEventListener("click", (e) => {
                    if (submittedSlides.has(currentSlide)) return;

                    e.stopPropagation();

                    if (activePopup && activePopup !== popup) {
                      hidePopup(activePopup);
                    }

                    if (popup.style.display === "flex") {
                      hidePopup(popup);
                    } else {
                      popup.style.display = "flex";
                      activePopup = popup;
                    }
                  });
                });

                document.addEventListener("click", () => {
                  if (activePopup) {
                    hidePopup(activePopup);
                  }
                });

                prevButton.addEventListener("click", () => {
                  if (currentSlide > 1) showSlide(currentSlide - 1);
                });

                nextButton.addEventListener("click", () => {
                  if (currentSlide < slides.length) showSlide(currentSlide + 1);
                });

                submitButton.addEventListener("click", checkAnswers);
                updateNavButtons();
              });
            </script>
          </div>
        </section>
      </div>
    </main>

    <!--
      - ionicon link
    -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>
